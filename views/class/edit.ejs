<% include ../partials/header %>

<div class="container animated fadeInUp">
    <div class="parent">
        <div class="form" style="text-align: center">
            <div class="row">
                <div class="shadow-lg p-3 mb-5 bg-white rounded">
                    <form action="/session/<%= sessionId %>/class/<%= foundClass._id %>?_method=PUT" method="POST">
                        <h2>Edit Class</h2>
                        <hr>
                        <div class="form-row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label for="className">Select Class Level</label>
                                    <select class="form-control" name="levelName" id="className">
                                        <% classes.forEach(function(level) { %>
                                            <% if(foundClass.levelName === level.name) { %>
                                                <option selected><%= level.name %></option>
                                            <% } else { %>
                                                <option><%= level.name %></option>
                                            <% } %>
                                        <% }) %>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label for="instructorName">Select Instructor</label>
                                    <select class="form-control" id="instructorName" name="instructorId">
                                        <% instructors.forEach(function(instructor) { %>
                                           <% if(foundClass.instructor.id === instructor._id) { %>
                                                <option value="<%= instructor._id %>" selected>
                                                    <%= instructor.firstName %> <%= instructor.lastName %>
                                                </option>
                                           <% } else { %>
                                                <option value="<%= instructor._id %>">
                                                    <%= instructor.firstName %> <%= instructor.lastName %>
                                                </option>
                                           <% } %>  
                                        <% }) %>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="col-md-6 col-auto">
                                <label for="startTime">Start Time</label>
                                <input type="time" class="form-control" id="startTime" name="startTime" class="startTime" value="<%= foundClass.startTime %>">
                            </div>
                            <div class="col-md-6 col-auto">
                                <label for="endTime">End Time</label>
                                <input type="time" class="form-control" id="endTime" name="endTime" class="endTime" value="<%= foundClass.endTime %>">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="col-md-12 col-auto">
                                <label for="dayOfWeek">Day of the Week</label>
                                <select class="form-control" id="dayOfWeek" name="dayOfWeek">
                                    <option selected disabled>Select...</option>
                                    <% dayOfWeek.forEach(function(day) { %>
                                        <% if(foundClass.dayOfWeek === day) { %>
                                            <option value="<%= day %>" selected><%= day %></option>
                                        <% } else { %>
                                            <option value="<%= day %>"><%= day %></option>
                                        <% } %>
                                    <% }) %>
                                </select>
                            </div>
                        </div>
                        <hr>
                        <div class="form-row">
                            <div class="col-md-6">
                                <button type="submit" class="btn btn-primary btn-sm">Submit</button>
                            </div>
                            <div class="col-md-6">
                                <a href="/session/<%= sessionId %>" class="btn btn-danger btn-sm">Cancel</a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<% include ../partials/footer %>